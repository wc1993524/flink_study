<mxfile host="app.diagrams.net" modified="2024-07-19T03:57:55.395Z" agent="Mozilla/5.0 (Macintosh; Intel Mac OS X 10_15_7) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/126.0.0.0 Safari/537.36" etag="0uMYr35idxynZBgtaFAy" version="24.7.1" type="github">
  <diagram name="第 1 页" id="1mSv9DHloNbFEJnJpE68">
    <mxGraphModel dx="2389" dy="597" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="827" pageHeight="1169" math="0" shadow="0">
      <root>
        <mxCell id="0" />
        <mxCell id="1" parent="0" />
        <UserObject label="" plantUmlData="{&quot;data&quot;:&quot;@startuml\ntitle 离线数据接入与处理方案\n\nactor User\nparticipant \&quot;离线数据接入\&quot; as Source\nparticipant \&quot;Flink标准化\&quot; as FlinkStandard\nparticipant \&quot;ES原始数据库\&quot; as ES\nparticipant \&quot;CK数据库\&quot; as CK\nparticipant \&quot;Flink多平台融合\&quot; as FlinkFusion\nparticipant \&quot;ETL处理\&quot; as ETL\n\nUser -&gt; Source: 启动离线数据接入\nSource -&gt; FlinkStandard: 读取数据文件\nnote right\n不同平台数据存储在不同目录，\n例如：\n- Fofa: 几个json大文件\n- 360: 按天粒度细分，小json文件\n...\nend note\n\nFlinkStandard -&gt; ES: 标准化数据并写入ES原始数据库\nFlinkStandard -&gt; CK: 标准化数据并写入CK数据库\n\nnote right\nCK数据库引擎：ReplacingMergeTree\n按分区ip, port, source_platform合并，减少重复数据\nend note\n\nUser -&gt; CK: 执行合并任务\nCK -&gt; CK: OPTIMIZE TABLE asset_data FINAL\nnote right\n手动执行合并任务，去重数据\nend note\n\nFlinkStandard -&gt; FlinkFusion: 读取并处理最新数据\nnote right\n通过Flink读取数据后，多平台数据融合\nend note\n\nFlinkFusion -&gt; ETL: 最终数据ETL处理\nUser -&gt; ETL: 查看处理结果\n\n@enduml\n&quot;,&quot;format&quot;:&quot;svg&quot;}" id="DA8EDT62DBKBZXUAnMxD-2">
          <mxCell style="shape=image;noLabel=1;verticalAlign=top;aspect=fixed;imageAspect=0;image=data:image/svg+xml,PD94bWwgdmVyc2lvbj0iMS4wIiBlbmNvZGluZz0idXMtYXNjaWkiIHN0YW5kYWxvbmU9Im5vIj8+PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHhtbG5zOnhsaW5rPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5L3hsaW5rIiBjb250ZW50U3R5bGVUeXBlPSJ0ZXh0L2NzcyIgaGVpZ2h0PSI1NjdweCIgcHJlc2VydmVBc3BlY3RSYXRpbz0ibm9uZSIgc3R5bGU9IndpZHRoOjEwNDBweDtoZWlnaHQ6NTY3cHg7YmFja2dyb3VuZDojRkZGRkZGOyIgdmVyc2lvbj0iMS4xIiB2aWV3Qm94PSIwIDAgMTA0MCA1NjciIHdpZHRoPSIxMDQwcHgiIHpvb21BbmRQYW49Im1hZ25pZnkiPjxkZWZzLz48Zz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgZm9udC13ZWlnaHQ9ImJvbGQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTU0IiB4PSI0NDQuMjUiIHk9IjI4LjIzNDQiPiYjMzExNjM7JiMzMjQ0NzsmIzI1OTY4OyYjMjU0NTQ7JiMyNTUwOTsmIzIwODM3OyYjMTk5ODI7JiMyMjc4ODsmIzI5NzAyOyYjMjYwNDE7JiMyNjY5Njs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7c3Ryb2tlLWRhc2hhcnJheTo1LjAsNS4wOyIgeDE9IjIyIiB4Mj0iMjIiIHkxPSIxMTUuOTY4OCIgeTI9IjQ4Ny43NjU2Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7c3Ryb2tlLWRhc2hhcnJheTo1LjAsNS4wOyIgeDE9IjE1MCIgeDI9IjE1MCIgeTE9IjExNS45Njg4IiB5Mj0iNDg3Ljc2NTYiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTtzdHJva2UtZGFzaGFycmF5OjUuMCw1LjA7IiB4MT0iMjU0IiB4Mj0iMjU0IiB5MT0iMTE1Ljk2ODgiIHkyPSI0ODcuNzY1NiIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41O3N0cm9rZS1kYXNoYXJyYXk6NS4wLDUuMDsiIHgxPSI0NjEuNSIgeDI9IjQ2MS41IiB5MT0iMTE1Ljk2ODgiIHkyPSI0ODcuNzY1NiIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41O3N0cm9rZS1kYXNoYXJyYXk6NS4wLDUuMDsiIHgxPSI1NTUuNSIgeDI9IjU1NS41IiB5MT0iMTE1Ljk2ODgiIHkyPSI0ODcuNzY1NiIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41O3N0cm9rZS1kYXNoYXJyYXk6NS4wLDUuMDsiIHgxPSI3NzkiIHgyPSI3NzkiIHkxPSIxMTUuOTY4OCIgeTI9IjQ4Ny43NjU2Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7c3Ryb2tlLWRhc2hhcnJheTo1LjAsNS4wOyIgeDE9IjkwMSIgeDI9IjkwMSIgeTE9IjExNS45Njg4IiB5Mj0iNDg3Ljc2NTYiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyOCIgeD0iNSIgeT0iMTE0LjIxODgiPlVzZXI8L3RleHQ+PGVsbGlwc2UgY3g9IjIyIiBjeT0iNDkuNDg0NCIgZmlsbD0iI0UyRTJGMCIgcng9IjgiIHJ5PSI4IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNMjIsNTcuNDg0NCBMMjIsODQuNDg0NCBNOSw2NS40ODQ0IEwzNSw2NS40ODQ0IE0yMiw4NC40ODQ0IEw5LDk5LjQ4NDQgTTIyLDg0LjQ4NDQgTDM1LDk5LjQ4NDQgIiBmaWxsPSJub25lIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIyOCIgeD0iNSIgeT0iNTAwIj5Vc2VyPC90ZXh0PjxlbGxpcHNlIGN4PSIyMiIgY3k9IjUxMC4yNSIgZmlsbD0iI0UyRTJGMCIgcng9IjgiIHJ5PSI4IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNMjIsNTE4LjI1IEwyMiw1NDUuMjUgTTksNTI2LjI1IEwzNSw1MjYuMjUgTTIyLDU0NS4yNSBMOSw1NjAuMjUgTTIyLDU0NS4yNSBMMzUsNTYwLjI1ICIgZmlsbD0ibm9uZSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHJlY3QgZmlsbD0iI0UyRTJGMCIgaGVpZ2h0PSIyOC45ODQ0IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI5OCIgeD0iMTAxIiB5PSI4NS45ODQ0Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODQiIHg9IjEwOCIgeT0iMTA2LjIxODgiPiYjMzExNjM7JiMzMjQ0NzsmIzI1OTY4OyYjMjU0NTQ7JiMyNTUwOTsmIzIwODM3OzwvdGV4dD48cmVjdCBmaWxsPSIjRTJFMkYwIiBoZWlnaHQ9IjI4Ljk4NDQiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9Ijk4IiB4PSIxMDEiIHk9IjQ4Ni43NjU2Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODQiIHg9IjEwOCIgeT0iNTA3Ij4mIzMxMTYzOyYjMzI0NDc7JiMyNTk2ODsmIzI1NDU0OyYjMjU1MDk7JiMyMDgzNzs8L3RleHQ+PHJlY3QgZmlsbD0iI0UyRTJGMCIgaGVpZ2h0PSIyOC45ODQ0IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI5MSIgeD0iMjA5IiB5PSI4NS45ODQ0Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iNzciIHg9IjIxNiIgeT0iMTA2LjIxODgiPkZsaW5rJiMyNjYzMTsmIzIwOTM0OyYjMjEyNzA7PC90ZXh0PjxyZWN0IGZpbGw9IiNFMkUyRjAiIGhlaWdodD0iMjguOTg0NCIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iOTEiIHg9IjIwOSIgeT0iNDg2Ljc2NTYiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3NyIgeD0iMjE2IiB5PSI1MDciPkZsaW5rJiMyNjYzMTsmIzIwOTM0OyYjMjEyNzA7PC90ZXh0PjxyZWN0IGZpbGw9IiNFMkUyRjAiIGhlaWdodD0iMjguOTg0NCIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iOTgiIHg9IjQxMi41IiB5PSI4NS45ODQ0Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iODQiIHg9IjQxOS41IiB5PSIxMDYuMjE4OCI+RVMmIzIxNDA3OyYjMjI5ODc7JiMyNTk2ODsmIzI1NDU0OyYjMjQyMTE7PC90ZXh0PjxyZWN0IGZpbGw9IiNFMkUyRjAiIGhlaWdodD0iMjguOTg0NCIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iOTgiIHg9IjQxMi41IiB5PSI0ODYuNzY1NiIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijg0IiB4PSI0MTkuNSIgeT0iNTA3Ij5FUyYjMjE0MDc7JiMyMjk4NzsmIzI1OTY4OyYjMjU0NTQ7JiMyNDIxMTs8L3RleHQ+PHJlY3QgZmlsbD0iI0UyRTJGMCIgaGVpZ2h0PSIyOC45ODQ0IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSI3MCIgeD0iNTIwLjUiIHk9Ijg1Ljk4NDQiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NiIgeD0iNTI3LjUiIHk9IjEwNi4yMTg4Ij5DSyYjMjU5Njg7JiMyNTQ1NDsmIzI0MjExOzwvdGV4dD48cmVjdCBmaWxsPSIjRTJFMkYwIiBoZWlnaHQ9IjI4Ljk4NDQiIHJ4PSIyLjUiIHJ5PSIyLjUiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIgd2lkdGg9IjcwIiB4PSI1MjAuNSIgeT0iNDg2Ljc2NTYiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI1NiIgeD0iNTI3LjUiIHk9IjUwNyI+Q0smIzI1OTY4OyYjMjU0NTQ7JiMyNDIxMTs8L3RleHQ+PHJlY3QgZmlsbD0iI0UyRTJGMCIgaGVpZ2h0PSIyOC45ODQ0IiByeD0iMi41IiByeT0iMi41IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiIHdpZHRoPSIxMTkiIHg9IjcyMCIgeT0iODUuOTg0NCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwNSIgeD0iNzI3IiB5PSIxMDYuMjE4OCI+RmxpbmsmIzIyODEwOyYjMjQxNzk7JiMyMTQ4ODsmIzM0NzAxOyYjMjE1MTI7PC90ZXh0PjxyZWN0IGZpbGw9IiNFMkUyRjAiIGhlaWdodD0iMjguOTg0NCIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iMTE5IiB4PSI3MjAiIHk9IjQ4Ni43NjU2Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTQiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTA1IiB4PSI3MjciIHk9IjUwNyI+RmxpbmsmIzIyODEwOyYjMjQxNzk7JiMyMTQ4ODsmIzM0NzAxOyYjMjE1MTI7PC90ZXh0PjxyZWN0IGZpbGw9IiNFMkUyRjAiIGhlaWdodD0iMjguOTg0NCIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNjMiIHg9Ijg3MCIgeT0iODUuOTg0NCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjE0IiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjQ5IiB4PSI4NzciIHk9IjEwNi4yMTg4Ij5FVEwmIzIyNzg4OyYjMjk3MDI7PC90ZXh0PjxyZWN0IGZpbGw9IiNFMkUyRjAiIGhlaWdodD0iMjguOTg0NCIgcng9IjIuNSIgcnk9IjIuNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7IiB3aWR0aD0iNjMiIHg9Ijg3MCIgeT0iNDg2Ljc2NTYiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxNCIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI0OSIgeD0iODc3IiB5PSI1MDciPkVUTCYjMjI3ODg7JiMyOTcwMjs8L3RleHQ+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSIxMzgsMTQxLjg4MjgsMTQ4LDE0NS44ODI4LDEzOCwxNDkuODgyOCwxNDIsMTQ1Ljg4MjgiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjIyIiB4Mj0iMTQ0IiB5MT0iMTQ1Ljg4MjgiIHkyPSIxNDUuODgyOCIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjEwNCIgeD0iMjkiIHk9IjE0Mi4yNTc4Ij4mIzIxNTUxOyYjMjExNjA7JiMzMTE2MzsmIzMyNDQ3OyYjMjU5Njg7JiMyNTQ1NDsmIzI1NTA5OyYjMjA4Mzc7PC90ZXh0Pjxwb2x5Z29uIGZpbGw9IiMxODE4MTgiIHBvaW50cz0iMjQyLjUsMjAwLjYyNSwyNTIuNSwyMDQuNjI1LDI0Mi41LDIwOC42MjUsMjQ2LjUsMjA0LjYyNSIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMTUwIiB4Mj0iMjQ4LjUiIHkxPSIyMDQuNjI1IiB5Mj0iMjA0LjYyNSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9Ijc4IiB4PSIxNTciIHk9IjIwMSI+JiMzNTgzNTsmIzIxNDYyOyYjMjU5Njg7JiMyNTQ1NDsmIzI1OTkxOyYjMjAyMTQ7PC90ZXh0PjxwYXRoIGQ9Ik0yNTksMTU4Ljg4MjggTDI1OSwyMzcuODgyOCBMNDg2LDIzNy44ODI4IEw0ODYsMTY4Ljg4MjggTDQ3NiwxNTguODgyOCBMMjU5LDE1OC44ODI4ICIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHBhdGggZD0iTTQ3NiwxNTguODgyOCBMNDc2LDE2OC44ODI4IEw0ODYsMTY4Ljg4MjggTDQ3NiwxNTguODgyOCAiIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE4MiIgeD0iMjY1IiB5PSIxNzYuMTcxOSI+JiMxOTk4MTsmIzIxNTE2OyYjMjQxNzk7JiMyMTQ4ODsmIzI1OTY4OyYjMjU0NTQ7JiMyMzM4NDsmIzIwNjQ4OyYjMjIzMTI7JiMxOTk4MTsmIzIxNTE2OyYjMzA0NDY7JiMyNDQwNTsmIzY1MjkyOzwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzOSIgeD0iMjY1IiB5PSIxOTAuMDg1OSI+JiMyMDM2MzsmIzIyOTE0OyYjNjUzMDY7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE0NyIgeD0iMjY1IiB5PSIyMDQiPi0gRm9mYTogJiMyMDk2MDsmIzIwMDEwO2pzb24mIzIyODIzOyYjMjU5OTE7JiMyMDIxNDs8L3RleHQ+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjA2IiB4PSIyNjUiIHk9IjIxNy45MTQxIj4tIDM2MDogJiMyNTM1MzsmIzIyODI1OyYjMzE4OTA7JiMyNDIzMDsmIzMyNDU0OyYjMjA5OTg7JiM2NTI5MjsmIzIzNTY3O2pzb24mIzI1OTkxOyYjMjAyMTQ7PC90ZXh0Pjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE4IiB4PSIyNjUiIHk9IjIzMS44MjgxIj4uLi48L3RleHQ+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI0NDkuNSwyNTkuMzY3Miw0NTkuNSwyNjMuMzY3Miw0NDkuNSwyNjcuMzY3Miw0NTMuNSwyNjMuMzY3MiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMjU0LjUiIHgyPSI0NTUuNSIgeTE9IjI2My4zNjcyIiB5Mj0iMjYzLjM2NzIiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIxODMiIHg9IjI2MS41IiB5PSIyNTkuNzQyMiI+JiMyNjYzMTsmIzIwOTM0OyYjMjEyNzA7JiMyNTk2ODsmIzI1NDU0OyYjMjQxODI7JiMyMDg4OTsmIzIwODM3O0VTJiMyMTQwNzsmIzIyOTg3OyYjMjU5Njg7JiMyNTQ1NDsmIzI0MjExOzwvdGV4dD48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9IjU0My41LDI5Ny4yMzgzLDU1My41LDMwMS4yMzgzLDU0My41LDMwNS4yMzgzLDU0Ny41LDMwMS4yMzgzIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSIyNTQuNSIgeDI9IjU0OS41IiB5MT0iMzAxLjIzODMiIHkyPSIzMDEuMjM4MyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjE1NyIgeD0iMjYxLjUiIHk9IjI5Ny42MTMzIj4mIzI2NjMxOyYjMjA5MzQ7JiMyMTI3MDsmIzI1OTY4OyYjMjU0NTQ7JiMyNDE4MjsmIzIwODg5OyYjMjA4Mzc7Q0smIzI1OTY4OyYjMjU0NTQ7JiMyNDIxMTs8L3RleHQ+PHBhdGggZD0iTTU2MCwyNzYuMzY3MiBMNTYwLDMxMy4zNjcyIEw5MDQsMzEzLjM2NzIgTDkwNCwyODYuMzY3MiBMODk0LDI3Ni4zNjcyIEw1NjAsMjc2LjM2NzIgIiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNODk0LDI3Ni4zNjcyIEw4OTQsMjg2LjM2NzIgTDkwNCwyODYuMzY3MiBMODk0LDI3Ni4zNjcyICIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjE1IiB4PSI1NjYiIHk9IjI5My42NTYzIj5DSyYjMjU5Njg7JiMyNTQ1NDsmIzI0MjExOyYjMjQzNDE7JiMyNTgwNjsmIzY1MzA2O1JlcGxhY2luZ01lcmdlVHJlZTwvdGV4dD48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSIzMjMiIHg9IjU2NiIgeT0iMzA3LjU3MDMiPiYjMjUzNTM7JiMyMDk5ODsmIzIxMzA2O2lwLCBwb3J0LCBzb3VyY2VfcGxhdGZvcm0mIzIxNTEyOyYjMjQxODI7JiM2NTI5MjsmIzIwOTQzOyYjMjM1Njk7JiMzNzMyNTsmIzIyNzk3OyYjMjU5Njg7JiMyNTQ1NDs8L3RleHQ+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI1NDMuNSwzMzUuMTA5NCw1NTMuNSwzMzkuMTA5NCw1NDMuNSwzNDMuMTA5NCw1NDcuNSwzMzkuMTA5NCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMjIiIHgyPSI1NDkuNSIgeTE9IjMzOS4xMDk0IiB5Mj0iMzM5LjEwOTQiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3OCIgeD0iMjkiIHk9IjMzNS40ODQ0Ij4mIzI1MTkxOyYjMzQ4OTI7JiMyMTUxMjsmIzI0MTgyOyYjMjAyMTk7JiMyMTE1Mzs8L3RleHQ+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iNTU1LjUiIHgyPSI1OTcuNSIgeTE9IjM2Ny4wMjM0IiB5Mj0iMzY3LjAyMzQiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSI1OTcuNSIgeDI9IjU5Ny41IiB5MT0iMzY3LjAyMzQiIHkyPSIzODAuMDIzNCIvPjxsaW5lIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MS4wOyIgeDE9IjU1Ni41IiB4Mj0iNTk3LjUiIHkxPSIzODAuMDIzNCIgeTI9IjM4MC4wMjM0Ii8+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI1NjYuNSwzNzYuMDIzNCw1NTYuNSwzODAuMDIzNCw1NjYuNSwzODQuMDIzNCw1NjIuNSwzODAuMDIzNCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMjEwIiB4PSI1NjIuNSIgeT0iMzYzLjM5ODQiPk9QVElNSVpFIFRBQkxFIGFzc2V0X2RhdGEgRklOQUw8L3RleHQ+PHBhdGggZD0iTTc4NCwzNTUuNjA5NCBMNzg0LDM3OC42MDk0IEw5NzQsMzc4LjYwOTQgTDk3NCwzNjUuNjA5NCBMOTY0LDM1NS42MDk0IEw3ODQsMzU1LjYwOTQgIiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNOTY0LDM1NS42MDk0IEw5NjQsMzY1LjYwOTQgTDk3NCwzNjUuNjA5NCBMOTY0LDM1NS42MDk0ICIgZmlsbD0iI0ZFRkZERCIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDowLjU7Ii8+PHRleHQgZmlsbD0iIzAwMDAwMCIgZm9udC1mYW1pbHk9InNhbnMtc2VyaWYiIGZvbnQtc2l6ZT0iMTMiIGxlbmd0aEFkanVzdD0ic3BhY2luZyIgdGV4dExlbmd0aD0iMTY5IiB4PSI3OTAiIHk9IjM3Mi44OTg0Ij4mIzI1MTYzOyYjMjExNjA7JiMyNTE5MTsmIzM0ODkyOyYjMjE1MTI7JiMyNDE4MjsmIzIwMjE5OyYjMjExNTM7JiM2NTI5MjsmIzIxNDM1OyYjMzczMjU7JiMyNTk2ODsmIzI1NDU0OzwvdGV4dD48cG9seWdvbiBmaWxsPSIjMTgxODE4IiBwb2ludHM9Ijc2Ny41LDQwNi45Mzc1LDc3Ny41LDQxMC45Mzc1LDc2Ny41LDQxNC45Mzc1LDc3MS41LDQxMC45Mzc1IiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiLz48bGluZSBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjEuMDsiIHgxPSIyNTQuNSIgeDI9Ijc3My41IiB5MT0iNDEwLjkzNzUiIHkyPSI0MTAuOTM3NSIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjExNyIgeD0iMjYxLjUiIHk9IjQwNy4zMTI1Ij4mIzM1ODM1OyYjMjE0NjI7JiMyNDE4MjsmIzIyNzg4OyYjMjk3MDI7JiMyNjM2ODsmIzI2MDMyOyYjMjU5Njg7JiMyNTQ1NDs8L3RleHQ+PHBhdGggZD0iTTc4NCwzOTMuMDIzNCBMNzg0LDQxNi4wMjM0IEwxMDMzLDQxNi4wMjM0IEwxMDMzLDQwMy4wMjM0IEwxMDIzLDM5My4wMjM0IEw3ODQsMzkzLjAyMzQgIiBmaWxsPSIjRkVGRkREIiBzdHlsZT0ic3Ryb2tlOiMxODE4MTg7c3Ryb2tlLXdpZHRoOjAuNTsiLz48cGF0aCBkPSJNMTAyMywzOTMuMDIzNCBMMTAyMyw0MDMuMDIzNCBMMTAzMyw0MDMuMDIzNCBMMTAyMywzOTMuMDIzNCAiIGZpbGw9IiNGRUZGREQiIHN0eWxlPSJzdHJva2U6IzE4MTgxODtzdHJva2Utd2lkdGg6MC41OyIvPjx0ZXh0IGZpbGw9IiMwMDAwMDAiIGZvbnQtZmFtaWx5PSJzYW5zLXNlcmlmIiBmb250LXNpemU9IjEzIiBsZW5ndGhBZGp1c3Q9InNwYWNpbmciIHRleHRMZW5ndGg9IjIyOCIgeD0iNzkwIiB5PSI0MTAuMzEyNSI+JiMzNjg5MDsmIzM2ODA3O0ZsaW5rJiMzNTgzNTsmIzIxNDYyOyYjMjU5Njg7JiMyNTQ1NDsmIzIxNTE4OyYjNjUyOTI7JiMyMjgxMDsmIzI0MTc5OyYjMjE0ODg7JiMyNTk2ODsmIzI1NDU0OyYjMzQ3MDE7JiMyMTUxMjs8L3RleHQ+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI4ODkuNSw0MzcuODUxNiw4OTkuNSw0NDEuODUxNiw4ODkuNSw0NDUuODUxNiw4OTMuNSw0NDEuODUxNiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iNzc5LjUiIHgyPSI4OTUuNSIgeTE9IjQ0MS44NTE2IiB5Mj0iNDQxLjg1MTYiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI5OCIgeD0iNzg2LjUiIHk9IjQzOC4yMjY2Ij4mIzI2MzY4OyYjMzI0NTY7JiMyNTk2ODsmIzI1NDU0O0VUTCYjMjI3ODg7JiMyOTcwMjs8L3RleHQ+PHBvbHlnb24gZmlsbD0iIzE4MTgxOCIgcG9pbnRzPSI4ODkuNSw0NjUuNzY1Niw4OTkuNSw0NjkuNzY1Niw4ODkuNSw0NzMuNzY1Niw4OTMuNSw0NjkuNzY1NiIgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7Ii8+PGxpbmUgc3R5bGU9InN0cm9rZTojMTgxODE4O3N0cm9rZS13aWR0aDoxLjA7IiB4MT0iMjIiIHgyPSI4OTUuNSIgeTE9IjQ2OS43NjU2IiB5Mj0iNDY5Ljc2NTYiLz48dGV4dCBmaWxsPSIjMDAwMDAwIiBmb250LWZhbWlseT0ic2Fucy1zZXJpZiIgZm9udC1zaXplPSIxMyIgbGVuZ3RoQWRqdXN0PSJzcGFjaW5nIiB0ZXh0TGVuZ3RoPSI3OCIgeD0iMjkiIHk9IjQ2Ni4xNDA2Ij4mIzI2NTk3OyYjMzA0NzU7JiMyMjc4ODsmIzI5NzAyOyYjMzI0Njc7JiMyNjUyNDs8L3RleHQ+PCEtLVNSQz1bVExEVFJ6OVc1QnZfVnlNUk5HellPazg1NW9RSkc0OVdRZ0pVVUJDcXE2NExNekEta29VQktaUVdDMGI0YU1tWnVLaUpEd0I5MFhKVGQtYmZzVE4tV2NfeGJqY2tVZGxFU3l4cEZFVTNZQUdlTzdqaXNDamhncEVwNlhVTUZlOEY4dEVrbV8yenRRZk90T0tyZzJCNHZ1WWl1OVVnZUEwSWhuMG45dlB1WVUyalNFYU12Yk1TYkctS2QxMjQ5ZWtZekRPd3JxMmhHQnRobWpuR2JsMUlkYlZvR05HWTJfZVBKNmdpRElwUlJhNFk2cUo1cXk1eUZGcUZKWFpzT0Y0SmNoRnJRR0RRclJfQ29HRExiQUx4bDVvNkVNVHlOME9YbnBNRUZGUENuSjJxQms1dTZkUUU2QzIxMWVwNXlGaElXNlJObXRPcnF4WDJhYW00aDhZNXJtSVBTb2docFlId1Rodl9XaUNmekFTaVBOLXZXNS1Uc3JLVGNSemhDM3d5TlZMRzEyVmJWUHdBcVN4RC1SU3RnWXAxU0VCclprMjdabng0aTVLX1drNU4teVQ3TTh2amVtQkwyY3ExaXdPM3pmM0hRMUc5S1h1eFFYMEFnN1BpOUJBcW9zUFpkaEo1NUxHLUt4VVgxT05CdS1kX2JfaXNYX3AzeUNMWHJSN1FFWk54R1lXTC1QbWU1Tk81ZkkxbVlZMFducmtMamJzQWZNclNhWE1vWkxMdC1kaUtJbFBidkh0VEQyTHA3NmpEYzl0U1EwcU9EYlhsZC1ORFJic2ZIdkZyZUN4Z0pDRTB1bTVMaXFhLVV5d2JUYkVsNGZaUlVQOTlxRGpHMVJBTnZtY0Zhd2NkRW5jXzFVa2VIa3ladEN0SGVYaktJNFg1UTdBLXl6blNacEN2emZCemlqTnIzaUxGVXJGa2hReXJqejlfUnozSTdVQkQzeDBXLXVKeDJYWVhrdFdrRy1WSEJ6ajZiSE5TbFNOVG4xWmFSNkp0UW9uWjZzdGhqRnk3XS0tPjwvZz48L3N2Zz4=;" vertex="1" parent="1">
            <mxGeometry x="-530" y="90" width="1040" height="567" as="geometry" />
          </mxCell>
        </UserObject>
        <mxCell id="DA8EDT62DBKBZXUAnMxD-6" value="&lt;div&gt;&lt;b&gt;&lt;font style=&quot;font-size: 18px;&quot;&gt;CK建表语句&lt;/font&gt;&lt;/b&gt;&lt;/div&gt;&lt;div&gt;CREATE TABLE asset_data&lt;/div&gt;&lt;div&gt;(&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; ip String,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; port UInt8,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; source_platform String,&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; raw_data String,--原始json数据&lt;/div&gt;&lt;div&gt;&amp;nbsp; &amp;nbsp; original_time DateTime&lt;/div&gt;&lt;div&gt;)&amp;nbsp;&lt;/div&gt;&lt;div&gt;ENGINE = ReplacingMergeTree(original_time)&lt;/div&gt;&lt;div&gt;ORDER BY (ip, port, source_platform);&lt;/div&gt;" style="shape=note;size=20;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="520" y="90" width="290" height="280" as="geometry" />
        </mxCell>
        <mxCell id="DA8EDT62DBKBZXUAnMxD-7" value="&lt;div&gt;&lt;span style=&quot;font-size: 18px;&quot;&gt;&lt;b&gt;问题现状&lt;/b&gt;&lt;/span&gt;&lt;/div&gt;&lt;div&gt;&lt;p style=&quot;margin: 0px; font-variant-numeric: normal; font-variant-east-asian: normal; font-variant-alternates: normal; font-kerning: auto; font-optical-sizing: auto; font-feature-settings: normal; font-variation-settings: normal; font-variant-position: normal; font-stretch: normal; line-height: normal; font-family: &amp;quot;Helvetica Neue&amp;quot;; text-align: start;&quot; class=&quot;p1&quot;&gt;不能单纯按天的时间窗口进行数据处理，因为可能会出现1.1.1.1的数据不同平台的数据在多天出现（数据不定期放入监测目录，隔天那种），那么无法做到增量聚合（第一天1.1.1.1两个平台，调用融合写入表；第二天1.1.1.1一个平台［新平台］数据不走融合直接入表，这样保证不对❌）&lt;/p&gt;&lt;p style=&quot;margin: 0px; font-variant-numeric: normal; font-variant-east-asian: normal; font-variant-alternates: normal; font-kerning: auto; font-optical-sizing: auto; font-feature-settings: normal; font-variation-settings: normal; font-variant-position: normal; font-stretch: normal; line-height: normal; font-family: &amp;quot;Helvetica Neue&amp;quot;; min-height: 14px; text-align: start;&quot; class=&quot;p2&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px; font-variant-numeric: normal; font-variant-east-asian: normal; font-variant-alternates: normal; font-kerning: auto; font-optical-sizing: auto; font-feature-settings: normal; font-variation-settings: normal; font-variant-position: normal; font-stretch: normal; line-height: normal; font-family: &amp;quot;PingFang SC&amp;quot;; text-align: start;&quot; class=&quot;p3&quot;&gt;因此需要把数据存入&lt;span style=&quot;font-variant-numeric: normal; font-variant-east-asian: normal; font-variant-alternates: normal; font-kerning: auto; font-optical-sizing: auto; font-feature-settings: normal; font-variation-settings: normal; font-variant-position: normal; font-stretch: normal; line-height: normal; font-family: &amp;quot;Helvetica Neue&amp;quot;;&quot; class=&quot;s1&quot;&gt;ck&lt;/span&gt;（按&lt;span style=&quot;font-variant-numeric: normal; font-variant-east-asian: normal; font-variant-alternates: normal; font-kerning: auto; font-optical-sizing: auto; font-feature-settings: normal; font-variation-settings: normal; font-variant-position: normal; font-stretch: normal; line-height: normal; font-family: &amp;quot;Helvetica Neue&amp;quot;;&quot; class=&quot;s1&quot;&gt;ip+&lt;/span&gt;端口&lt;span style=&quot;font-variant-numeric: normal; font-variant-east-asian: normal; font-variant-alternates: normal; font-kerning: auto; font-optical-sizing: auto; font-feature-settings: normal; font-variation-settings: normal; font-variant-position: normal; font-stretch: normal; line-height: normal; font-family: &amp;quot;Helvetica Neue&amp;quot;;&quot; class=&quot;s1&quot;&gt;+&lt;/span&gt;平台去重）。每天跑的数据是昨日数据（即需要增加更新的数据［新增加的&lt;span style=&quot;font-variant-numeric: normal; font-variant-east-asian: normal; font-variant-alternates: normal; font-kerning: auto; font-optical-sizing: auto; font-feature-settings: normal; font-variation-settings: normal; font-variant-position: normal; font-stretch: normal; line-height: normal; font-family: &amp;quot;Helvetica Neue&amp;quot;;&quot; class=&quot;s1&quot;&gt;ip+&lt;/span&gt;之前存在&lt;span style=&quot;font-variant-numeric: normal; font-variant-east-asian: normal; font-variant-alternates: normal; font-kerning: auto; font-optical-sizing: auto; font-feature-settings: normal; font-variation-settings: normal; font-variant-position: normal; font-stretch: normal; line-height: normal; font-family: &amp;quot;Helvetica Neue&amp;quot;;&quot; class=&quot;s1&quot;&gt;ip&lt;/span&gt;的最新数据]）关联&lt;span style=&quot;font-variant-numeric: normal; font-variant-east-asian: normal; font-variant-alternates: normal; font-kerning: auto; font-optical-sizing: auto; font-feature-settings: normal; font-variation-settings: normal; font-variant-position: normal; font-stretch: normal; line-height: normal; font-family: &amp;quot;Helvetica Neue&amp;quot;;&quot; class=&quot;s1&quot;&gt; &lt;/span&gt;历史数据（大前天之前的数据）&lt;/p&gt;&lt;p style=&quot;margin: 0px; font-variant-numeric: normal; font-variant-east-asian: normal; font-variant-alternates: normal; font-kerning: auto; font-optical-sizing: auto; font-feature-settings: normal; font-variation-settings: normal; font-variant-position: normal; font-stretch: normal; line-height: normal; font-family: &amp;quot;PingFang SC&amp;quot;; text-align: start;&quot; class=&quot;p3&quot;&gt;&lt;br&gt;&lt;/p&gt;&lt;p style=&quot;margin: 0px; font-variant-numeric: normal; font-variant-east-asian: normal; font-variant-alternates: normal; font-kerning: auto; font-optical-sizing: auto; font-feature-settings: normal; font-variation-settings: normal; font-variant-position: normal; font-stretch: normal; line-height: normal; font-family: &amp;quot;Helvetica Neue&amp;quot;; text-align: start;&quot; class=&quot;p1&quot;&gt;关联之前先预聚合&lt;/p&gt;&lt;p style=&quot;margin: 0px; font-variant-numeric: normal; font-variant-east-asian: normal; font-variant-alternates: normal; font-kerning: auto; font-optical-sizing: auto; font-feature-settings: normal; font-variation-settings: normal; font-variant-position: normal; font-stretch: normal; line-height: normal; font-family: &amp;quot;Helvetica Neue&amp;quot;; text-align: start;&quot; class=&quot;p1&quot;&gt;如果没关联上，证明昨日数据为新增数据&lt;/p&gt;&lt;p style=&quot;margin: 0px; font-variant-numeric: normal; font-variant-east-asian: normal; font-variant-alternates: normal; font-kerning: auto; font-optical-sizing: auto; font-feature-settings: normal; font-variation-settings: normal; font-variant-position: normal; font-stretch: normal; line-height: normal; font-family: &amp;quot;Helvetica Neue&amp;quot;; text-align: start;&quot; class=&quot;p1&quot;&gt;如果关联上，需要多日数据预聚合处理&lt;/p&gt;&lt;p style=&quot;margin: 0px; font-variant-numeric: normal; font-variant-east-asian: normal; font-variant-alternates: normal; font-kerning: auto; font-optical-sizing: auto; font-feature-settings: normal; font-variation-settings: normal; font-variant-position: normal; font-stretch: normal; line-height: normal; font-family: &amp;quot;PingFang SC&amp;quot;; text-align: start;&quot; class=&quot;p2&quot;&gt;之后统一调用融合服务&lt;/p&gt;&lt;/div&gt;" style="shape=note;size=20;whiteSpace=wrap;html=1;" vertex="1" parent="1">
          <mxGeometry x="520" y="370" width="290" height="280" as="geometry" />
        </mxCell>
      </root>
    </mxGraphModel>
  </diagram>
</mxfile>
